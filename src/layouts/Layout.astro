<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>Travis Example - Personal Site</title>
    <style>
      :root {
        /* Solarized Light */
        --base03: #002b36;
        --base02: #073642;
        --base01: #586e75;
        --base00: #657b83;
        --base0:  #839496;
        --base1:  #93a1a1;
        --base2:  #eee8d5;
        --base3:  #fdf6e3;
        --yellow: #b58900;
        --orange: #cb4b16;
        --red:    #dc322f;
        --magenta:#d33682;
        --violet: #6c71c4;
        --blue:   #268bd2;
        --cyan:   #2aa198;
        --green:  #859900;
        --bg: var(--base3);
        --fg: var(--base00);
        --accent: var(--blue);
      }
      [data-theme="dark"] {
        --bg: var(--base03);
        --fg: var(--base0);
        --accent: var(--cyan);
      }
      /* Dracula Theme */
      [data-theme="dracula"] {
        --bg: #282a36;
        --fg: #f8f8f2;
        --accent: #bd93f9;
        --base02: #44475a;
        --base1: #f8f8f2;
        --yellow: #f1fa8c;
        --green: #50fa7b;
        --blue: #8be9fd;
      }
      /* Gruvbox Dark Theme */
      [data-theme="gruvbox"] {
        --bg: #282828;
        --fg: #ebdbb2;
        --accent: #fe8019;
        --base02: #3c3836;
        --base1: #ebdbb2;
        --yellow: #fabd2f;
        --green: #b8bb26;
        --blue: #83a598;
      }
      body {
        background: var(--bg);
        color: var(--fg);
        margin: 0;
        min-height: 100vh;
        font-family: 'Inter', system-ui, sans-serif;
        transition: background 0.3s, color 0.3s;
      }
      header {
        background: var(--base02);
        color: var(--base1);
        padding: 1.5rem 0 1rem 0;
        text-align: center;
        box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      }
      header h1 {
        margin: 0;
        font-size: 2.2rem;
        letter-spacing: 1px;
      }
      nav {
        margin-top: 0.5rem;
      }
      nav a {
        color: var(--accent);
        margin: 0 1rem;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s;
      }
      nav a:hover {
        color: var(--yellow);
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Travis Example</h1>
      <nav>
        <a href="/">Home</a>
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#contact">Contact</a>
      </nav>
    </header>
    <slot />
    <footer style="background: var(--base02); color: var(--base1); text-align: center; padding: 1.5rem 0 2.5rem 0; margin-top: 3rem;">
      <label for="theme-select" style="font-weight: 500; margin-right: 0.5rem;">Theme:</label>
      <select id="theme-select" style="padding: 0.3rem 1.2rem; border-radius: 1.5rem; border: 1px solid var(--accent); background: var(--base02); color: var(--accent); font-size: 1rem;">
        <option value="system">System</option>
        <option value="light">Solarized Light</option>
        <option value="dark">Solarized Dark</option>
        <option value="dracula">Dracula</option>
        <option value="gruvbox">Gruvbox Dark</option>
      </select>
    </footer>
    <script>
      const select = document.getElementById('theme-select');
      const root = document.documentElement;
      function setTheme(theme) {
        if (theme === 'system') {
          localStorage.removeItem('theme');
          if (window.matchMedia('(prefers-color-scheme: dark)').matches) root.setAttribute('data-theme', 'dark');
          else root.setAttribute('data-theme', 'light');
        } else {
          root.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
        }
      }
      select.addEventListener('change', e => setTheme(e.target.value));
      // On load, set theme from localStorage or system
      const saved = localStorage.getItem('theme');
      if (saved) {
        setTheme(saved);
        select.value = saved;
      } else {
        setTheme('system');
        select.value = 'system';
      }
      // Listen for system theme changes if "system" is selected
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
        if (select.value === 'system') setTheme('system');
      });
    </script>
  </body>
</html>
